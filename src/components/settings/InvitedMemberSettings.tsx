"use client";

import { useState } from "react";
import Pagination from "@/components/common/Pagination";

interface InvitedMember {
  id: string;
  email: string;
  invitationDate: string;
  expirationDate: string;
}

function InvitedMemberRow({ member, onResend, onDelete }: { 
  member: InvitedMember; 
  onResend: (id: string) => void; 
  onDelete: (id: string) => void; 
}) {
  return (
    <>
      <div className="flex items-center py-4 w-full">
        {/* Email - 가장 넓게 */}
        <div className="flex-[3] text-[14px] text-[#252525] font-semibold text-left">
          {member.email}
        </div>

        {/* Invitation Date - 중간 크기 */}
        <div className="flex-[1] text-[14px] text-[#252525] text-left">
          {member.invitationDate}
        </div>

        {/* Expiration Date - 중간 크기 */}
        <div className="flex-[1] text-[14px] text-[#252525] text-left">
          {member.expirationDate}
        </div>

        {/* Send/Resend Button Column - 가장 작게 */}
        <div className="flex-[0.5] flex justify-center">
          <button
            onClick={() => onResend(member.id)}
            className="w-6 h-6 flex items-center justify-center hover:bg-gray-100 rounded"
            title="재전송"
          >
            <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M18.373 4.04785L18.2855 3.55558L18.2855 3.55558L18.373 4.04785ZM19.8174 4.3623L20.171 4.00877L20.1709 4.00875L19.8174 4.3623ZM20.1318 5.80664L20.6241 5.89422L20.6241 5.8942L20.1318 5.80664ZM19.5469 7.79492L19.0725 7.63681L19.0725 7.63684L19.5469 7.79492ZM16.71 16.3076L17.1843 16.4657L17.1843 16.4657L16.71 16.3076ZM15.7119 19.0156L16.1615 19.2344L16.1615 19.2344L15.7119 19.0156ZM14.3379 20.1797V20.6797H14.3379L14.3379 20.1797ZM12.9639 19.0156L12.5142 19.2344L12.5143 19.2344L12.9639 19.0156ZM11.9658 16.3076L11.4915 16.4657L11.4915 16.4657L11.9658 16.3076ZM11.1797 13.9482L11.654 13.7902L11.654 13.7901L11.1797 13.9482ZM10.9004 13.2793L11.254 12.9258L11.2539 12.9257L10.9004 13.2793ZM10.2314 13L10.3896 12.5257L10.3895 12.5256L10.2314 13ZM7.87207 12.2139L7.71396 12.6882L7.71402 12.6882L7.87207 12.2139ZM5.16406 11.2158L4.94533 11.6654L4.94534 11.6654L5.16406 11.2158ZM4.00684 9.96777L3.50757 9.99487L3.50828 10.008L3.50969 10.0211L4.00684 9.96777ZM4 9.8418H3.5V9.85535L3.50073 9.86889L4 9.8418ZM5.16406 8.46777L4.94533 8.01815L4.94533 8.01816L5.16406 8.46777ZM7.87207 7.46973L7.71399 6.99537L7.71396 6.99538L7.87207 7.46973ZM16.3848 4.63281L16.5428 5.10716L16.5429 5.10715L16.3848 4.63281ZM19.1104 5.06934L19.464 4.71585L19.4639 4.71578L19.1104 5.06934ZM18.5479 5.03223L18.4603 4.53995L18.4603 4.53996L18.5479 5.03223ZM16.7012 5.58105L16.5431 5.10671L16.543 5.10672L16.7012 5.58105ZM8.18848 8.41895L8.34659 8.89329L8.34661 8.89328L8.18848 8.41895ZM5.60156 9.36621L5.38287 8.91658L5.38283 8.91659L5.60156 9.36621ZM5 9.8418H4.5V9.89953L4.51316 9.95574L5 9.8418ZM5.01074 9.8877L4.5239 10.0016L4.53373 10.0437L4.55062 10.0834L5.01074 9.8877ZM5.60156 10.3174L5.38283 10.767L5.38287 10.767L5.60156 10.3174ZM10.5469 12.0508L10.3888 12.5251H10.3888L10.5469 12.0508ZM11.6084 12.5713L11.962 12.2178L11.962 12.2177L11.6084 12.5713ZM12.915 15.9912L12.4407 16.1493L12.915 15.9912ZM13.8623 18.5781L13.4127 18.7968L13.4127 18.7969L13.8623 18.5781ZM14.3379 19.1797V19.6797H14.3379L14.3379 19.1797ZM14.8135 18.5781L15.2631 18.7969L15.2631 18.7968L14.8135 18.5781ZM15.7607 15.9912L15.2864 15.8331L15.2864 15.8331L15.7607 15.9912ZM18.5986 7.47852L19.073 7.63665L19.073 7.63663L18.5986 7.47852ZM19.1475 5.63184L19.6397 5.71945L19.6397 5.71941L19.1475 5.63184ZM18.373 4.04785L18.4606 4.54013C18.9307 4.45652 19.246 4.49799 19.4638 4.71586L19.8174 4.3623L20.1709 4.00875C19.5903 3.42811 18.8349 3.45785 18.2855 3.55558L18.373 4.04785ZM19.8174 4.3623L19.4638 4.71584C19.6817 4.93372 19.7232 5.24907 19.6396 5.71908L20.1318 5.80664L20.6241 5.8942C20.7218 5.34474 20.7515 4.58939 20.171 4.00877L19.8174 4.3623ZM20.1318 5.80664L19.6396 5.71906C19.5562 6.18761 19.3485 6.80886 19.0725 7.63681L19.5469 7.79492L20.0212 7.95304C20.2864 7.15755 20.5248 6.45247 20.6241 5.89422L20.1318 5.80664ZM19.5469 7.79492L19.0725 7.63684L16.2356 16.1495L16.71 16.3076L17.1843 16.4657L20.0212 7.953L19.5469 7.79492ZM16.71 16.3076L16.2356 16.1495C15.8436 17.3255 15.5485 18.2085 15.2623 18.7969L15.7119 19.0156L16.1615 19.2344C16.4836 18.5723 16.802 17.6126 17.1843 16.4657L16.71 16.3076ZM15.7119 19.0156L15.2623 18.7969C14.9748 19.3879 14.6968 19.6797 14.3379 19.6797L14.3379 20.1797L14.3379 20.6797C15.3603 20.6797 15.8816 19.8097 16.1615 19.2344L15.7119 19.0156ZM14.3379 20.1797V19.6797C13.979 19.6797 13.701 19.3879 13.4135 18.7969L12.9639 19.0156L12.5143 19.2344C12.7942 19.8097 13.3155 20.6797 14.3379 20.6797V20.1797ZM12.9639 19.0156L13.4135 18.7969C13.1272 18.2085 12.8322 17.3255 12.4402 16.1495L11.9658 16.3076L11.4915 16.4657C11.8738 17.6126 12.1922 18.5723 12.5142 19.2344L12.9639 19.0156ZM11.9658 16.3076L12.4402 16.1496L11.654 13.7902L11.1797 13.9482L10.7053 14.1063L11.4915 16.4657L11.9658 16.3076ZM11.1797 13.9482L11.654 13.7901C11.5692 13.5358 11.5095 13.3661 11.46 13.2497C11.4065 13.1239 11.3488 13.0206 11.254 12.9258L10.9004 13.2793L10.5468 13.6328C10.5158 13.6018 10.5123 13.5766 10.5398 13.6412C10.5712 13.7151 10.6192 13.848 10.7053 14.1064L11.1797 13.9482ZM10.9004 13.2793L11.2539 12.9257C11.1591 12.8309 11.0558 12.7732 10.93 12.7197C10.8136 12.6702 10.644 12.6105 10.3896 12.5257L10.2314 13L10.0733 13.4743C10.3318 13.5605 10.4646 13.6085 10.5386 13.6399C10.6031 13.6674 10.5778 13.6638 10.5468 13.6329L10.9004 13.2793ZM10.2314 13L10.3895 12.5256L8.03013 11.7395L7.87207 12.2139L7.71402 12.6882L10.0734 13.4744L10.2314 13ZM7.87207 12.2139L8.03018 11.7395C6.8542 11.3475 5.97122 11.0525 5.38279 10.7662L5.16406 11.2158L4.94534 11.6654C5.6074 11.9875 6.56708 12.3059 7.71396 12.6882L7.87207 12.2139ZM5.16406 11.2158L5.38279 10.7662C4.83113 10.4978 4.53833 10.2347 4.50398 9.91445L4.00684 9.96777L3.50969 10.0211C3.60708 10.9292 4.40341 11.4018 4.94533 11.6654L5.16406 11.2158ZM4.00684 9.96777L4.5061 9.94068L4.49927 9.8147L4 9.8418L3.50073 9.86889L3.50757 9.99487L4.00684 9.96777ZM4 9.8418H4.5C4.5 9.4829 4.79175 9.20493 5.3828 8.91739L5.16406 8.46777L4.94533 8.01816C4.36995 8.29807 3.5 8.81935 3.5 9.8418H4ZM5.16406 8.46777L5.38279 8.91739C5.97121 8.63114 6.85419 8.33607 8.03018 7.94407L7.87207 7.46973L7.71396 6.99538C6.56707 7.37768 5.6074 7.69607 4.94533 8.01815L5.16406 8.46777ZM7.87207 7.46973L8.03015 7.94408L16.5428 5.10716L16.3848 4.63281L16.2267 4.15846L7.71399 6.99537L7.87207 7.46973ZM16.3848 4.63281L16.5429 5.10715C17.3709 4.83116 17.9921 4.62348 18.4606 4.54012L18.373 4.04785L18.2855 3.55558C17.7272 3.65489 17.0222 3.8933 16.2267 4.15847L16.3848 4.63281ZM19.1104 5.06934L19.4639 4.71578C19.3769 4.62874 19.2507 4.54787 19.0592 4.51523C18.8964 4.48748 18.7011 4.49711 18.4603 4.53995L18.5479 5.03223L18.6354 5.5245C18.7257 5.50843 18.7894 5.50204 18.8324 5.50017C18.8757 5.49829 18.8926 5.50126 18.8912 5.50101C18.8883 5.50053 18.8654 5.49613 18.8326 5.47875C18.8163 5.47016 18.8007 5.45995 18.7861 5.4486C18.7716 5.43733 18.7613 5.42736 18.7568 5.42289L19.1104 5.06934ZM18.5479 5.03223L18.4603 4.53996C17.9915 4.62337 17.3701 4.83104 16.5431 5.10671L16.7012 5.58105L16.8593 6.0554C17.7201 5.76846 18.2567 5.59189 18.6355 5.52449L18.5479 5.03223ZM16.7012 5.58105L16.543 5.10672L8.03035 7.94461L8.18848 8.41895L8.34661 8.89328L16.8593 6.05539L16.7012 5.58105ZM8.18848 8.41895L8.03036 7.9446C6.85453 8.33655 5.97126 8.63039 5.38287 8.91658L5.60156 9.36621L5.82026 9.81585C6.33459 9.56568 7.13938 9.29569 8.34659 8.89329L8.18848 8.41895ZM5.60156 9.36621L5.38283 8.91659C5.06299 9.07219 4.85309 9.21416 4.71833 9.35393C4.64832 9.42654 4.58998 9.50738 4.55093 9.59855C4.5079 9.69902 4.5 9.78485 4.5 9.8418H5H5.5C5.5 9.85489 5.49935 9.88104 5.49369 9.91264C5.48829 9.94286 5.47987 9.9696 5.47018 9.99224C5.45121 10.0365 5.432 10.0545 5.43822 10.048C5.4559 10.0297 5.54678 9.94889 5.82029 9.81583L5.60156 9.36621ZM5 9.8418L4.51316 9.95574L4.5239 10.0016L5.01074 9.8877L5.49759 9.77375L5.48684 9.72785L5 9.8418ZM5.01074 9.8877L4.55062 10.0834C4.65739 10.3344 4.92577 10.5446 5.38283 10.767L5.60156 10.3174L5.82029 9.86776C5.61817 9.76944 5.51396 9.69875 5.46508 9.65913C5.41473 9.61831 5.44305 9.62662 5.47086 9.69202L5.01074 9.8877ZM5.60156 10.3174L5.38287 10.767C5.97126 11.0532 6.85454 11.347 8.03036 11.739L8.18848 11.2646L8.34659 10.7903C7.1394 10.3879 6.33459 10.1179 5.82026 9.86775L5.60156 10.3174ZM8.18848 11.2646L8.03036 11.739L10.3888 12.5251L10.5469 12.0508L10.705 11.5764L8.34659 10.7903L8.18848 11.2646ZM10.5469 12.0508L10.3888 12.5251C10.8495 12.6787 11.087 12.757 11.2548 12.9248L11.6084 12.5713L11.962 12.2177C11.5898 11.8456 11.08 11.7015 10.705 11.5764L10.5469 12.0508ZM11.6084 12.5713L11.2548 12.9248C11.4226 13.0926 11.501 13.3302 11.6546 13.7909L12.1289 13.6328L12.6032 13.4747C12.4782 13.0996 12.3341 12.5899 11.962 12.2178L11.6084 12.5713ZM12.1289 13.6328L11.6546 13.7909L12.4407 16.1493L12.915 15.9912L13.3894 15.8331L12.6032 13.4747L12.1289 13.6328ZM12.915 15.9912L12.4407 16.1493C12.8326 17.3251 13.1265 18.2084 13.4127 18.7968L13.8623 18.5781L14.3119 18.3594C14.0618 17.8451 13.7918 17.0403 13.3894 15.8331L12.915 15.9912ZM13.8623 18.5781L13.4127 18.7969C13.5683 19.1167 13.7102 19.3266 13.85 19.4613C13.9226 19.5313 14.0034 19.5897 14.0946 19.6287C14.1951 19.6718 14.2809 19.6797 14.3379 19.6797V19.1797V18.6797C14.351 18.6797 14.3772 18.6803 14.4088 18.686C14.439 18.6914 14.4657 18.6998 14.4884 18.7095C14.5326 18.7285 14.5506 18.7477 14.5441 18.7415C14.5258 18.7238 14.445 18.6329 14.3119 18.3594L13.8623 18.5781ZM14.3379 19.1797L14.3379 19.6797C14.3949 19.6797 14.4808 19.6718 14.5812 19.6287C14.6724 19.5897 14.7532 19.5313 14.8258 19.4613C14.9655 19.3266 15.1075 19.1167 15.2631 18.7969L14.8135 18.5781L14.3639 18.3594C14.2308 18.6329 14.15 18.7238 14.1317 18.7415C14.1252 18.7477 14.1431 18.7285 14.1874 18.7095C14.21 18.6998 14.2367 18.6914 14.267 18.686C14.2986 18.6803 14.3247 18.6797 14.3379 18.6797L14.3379 19.1797ZM14.8135 18.5781L15.2631 18.7968C15.5493 18.2084 15.8431 17.3251 16.2351 16.1493L15.7607 15.9912L15.2864 15.8331C14.884 17.0403 14.614 17.8451 14.3638 18.3594L14.8135 18.5781ZM15.7607 15.9912L16.2351 16.1493L19.073 7.63665L18.5986 7.47852L18.1243 7.32039L15.2864 15.8331L15.7607 15.9912ZM18.5986 7.47852L19.073 7.63663C19.3486 6.80965 19.5563 6.18814 19.6397 5.71945L19.1475 5.63184L18.6552 5.54423C18.5878 5.92296 18.4112 6.45964 18.1243 7.3204L18.5986 7.47852ZM19.1475 5.63184L19.6397 5.71941C19.6826 5.47859 19.6922 5.28335 19.6645 5.12055C19.6319 4.92923 19.5511 4.80299 19.464 4.71585L19.1104 5.06934L18.7567 5.42282C18.7522 5.4183 18.7422 5.40799 18.731 5.39348C18.7196 5.37887 18.7094 5.36322 18.7009 5.34703C18.6835 5.31427 18.6791 5.29133 18.6787 5.28853C18.6784 5.28712 18.6814 5.30402 18.6795 5.34733C18.6776 5.3903 18.6712 5.45401 18.6552 5.54426L19.1475 5.63184Z" fill="#B0B0B0"/>
              <path d="M11.5 13L19.5 4.5" stroke="#B0B0B0" strokeWidth="2"/>
            </svg>
          </button>
        </div>

        {/* Delete Button Column - 가장 작게 */}
        <div className="flex-[0.5] flex justify-center">
          <button
            onClick={() => onDelete(member.id)}
            className="w-6 h-6 flex items-center justify-center hover:bg-gray-100 rounded"
            title="삭제"
          >
            <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M19 7L18.1327 19.1425C18.0579 20.1891 17.187 21 16.1378 21H7.86224C6.81296 21 5.94208 20.1891 5.86732 19.1425L5 7M10 11V17M14 11V17M15 7V4C15 3.44772 14.5523 3 14 3H10C9.44772 3 9 3.44772 9 4V7M4 7H20" stroke="#B0B0B0" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
          </button>
        </div>
      </div>
      
      {/* Divider */}
      <div className="w-full h-[1px] bg-[#E2E2E2] opacity-40"></div>
    </>
  );
}

export default function InvitedMemberSettings() {
  const [invitedMembers] = useState<InvitedMember[]>([
    {
      id: "1",
      email: "Kim.sales@company.com",
      invitationDate: "2024-01-01",
      expirationDate: "2024-01-01"
    },
    {
      id: "2",
      email: "Kim.sales@company.com",
      invitationDate: "2024-01-01",
      expirationDate: "2024-01-01"
    },
    {
      id: "3",
      email: "Kim.sales@company.com",
      invitationDate: "2024-01-01",
      expirationDate: "2024-01-01"
    },
    {
      id: "4",
      email: "Kim.sales@company.com",
      invitationDate: "2024-01-01",
      expirationDate: "2024-01-01"
    },
    {
      id: "5",
      email: "Kim.sales@company.com",
      invitationDate: "2024-01-01",
      expirationDate: "2024-01-01"
    },
    {
      id: "6",
      email: "Kim.sales@company.com",
      invitationDate: "2024-01-01",
      expirationDate: "2024-01-01"
    },
    {
      id: "7",
      email: "Kim.sales@company.com",
      invitationDate: "2024-01-01",
      expirationDate: "2024-01-01"
    },
    {
      id: "8",
      email: "Kim.sales@company.com",
      invitationDate: "2024-01-01",
      expirationDate: "2024-01-01"
    }
  ]);

  const [currentPage, setCurrentPage] = useState(1);
  const totalPages = 10;

  const handleResend = (id: string) => {
    console.log("Resend invitation:", id);
    // 실제 구현에서는 초대 재전송 API 호출
  };

  const handleDelete = (id: string) => {
    console.log("Delete invitation:", id);
    // 실제 구현에서는 초대 삭제 API 호출
  };

  return (
    <div className="bg-white rounded-[14px] p-6">
      {/* Header */}
      <div className="flex items-center justify-between mb-8">
        <h1 className="text-[24px] font-bold text-[#252525] leading-5">
          초대중인 멤버
        </h1>
      </div>

      {/* Divider */}
      <div className="w-full h-[1px] bg-[#E2E2E2] opacity-50 mb-6"></div>

      {/* Table Header */}
      <div className="bg-[#EDEDED] rounded-[12px] px-6 py-3 mb-4">
        <div className="flex items-center w-full">
          {/* Email - 가장 넓게 */}
          <div className="flex-[3] text-[16px] font-bold text-[#808080] text-left">
            이메일
          </div>
          {/* Invitation Date - 중간 크기 */}
          <div className="flex-[1] text-[16px] font-bold text-[#808080] text-left">
            초대일시
          </div>
          {/* Expiration Date - 중간 크기 */}
          <div className="flex-[1] text-[16px] font-bold text-[#808080] text-left">
            만료일시
          </div>
          {/* Send/Resend Button Column - 가장 작게 */}
          <div className="flex-[0.5] text-[16px] font-bold text-[#808080]">
            {/* Empty header for send button column */}
          </div>
          {/* Delete Button Column - 가장 작게 */}
          <div className="flex-[0.5] text-[16px] font-bold text-[#808080]">
            {/* Empty header for delete button column */}
          </div>
        </div>
      </div>

      {/* Invited Member List */}
      <div className="space-y-0">
        {invitedMembers.map((member) => (
          <InvitedMemberRow
            key={member.id}
            member={member}
            onResend={handleResend}
            onDelete={handleDelete}
          />
        ))}
      </div>

      {/* Pagination */}
      <div className="flex justify-center mt-8">
        <Pagination
          currentPage={currentPage}
          totalPages={totalPages}
          onPageChange={setCurrentPage}
        />
      </div>
    </div>
  );
}
